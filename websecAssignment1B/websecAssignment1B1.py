import sys
import os
import hashlib
# Assignment 0
#1
s = "0123456789abcdef"
value = int(s, 16)

print (value)

#2
b = bytearray().fromhex(s)
hash = hashlib.sha1(b)
pbHash = int(hash.hexdigest(), 16)
print(pbHash)

#3
i = 2897
int_byte = i.to_bytes(4, "big")
stringOfByte = int_byte.hex()
print(stringOfByte)

#4
int_hash = hashlib.sha1(int_byte)
hashDigest = int_hash.hexdigest()
print(hashDigest)

# Assignment 1B1 ----------------------------------------------------------------------------------------------------------
print("Assignment 1B1")
def luhn(card_number):
  lastDigit = card_number[len(card_number)-1]
  x_index = card_number.index('X')
    
  for i in range(10):
    card_list = list(card_number)

    if x_index != 15: # not really needed
      card_list[x_index] = str(i)

    for half_i in range(1, 9):
      change_index = len(card_number) - (2 * half_i)
      card_list[change_index] = int(card_list[change_index]) * 2
      if int(card_list[change_index]) >= 10:
        card_list[change_index] = int(str(card_list[change_index])[0]) + int(str(card_list[change_index])[1])
    
    sum = 0
    for k in range(0, 15):
      sum = sum + int(card_list[k])

    if x_index == 15:
      return (sum*9)%10

    if (sum*9)%10 == int(lastDigit):
      return i

long_card_list = "347535119X068415143834X1552813689325856087681X813357728X9220787231X4804672513567815755340549X3696224383228355X42492975X9208757799082X1731086421645032X24703371721513786015759X5565883250585492X70769729896519X65X7531046993848395933X43331624473X4055434564157756270715X412051405460096X81950992179806049X46507373375X75390389208308X02058701638077775226454X0565527859X5856594584459695X61566962212905X123637313782579X422292644955229362902X15100X715347651484452894158X506788787614053807X0427966392X1749628927253X3705446033910414841440X2552775104368X2137649773527167902X328X596955996488687032205094025X169375X405589392162X167667381059042307922X3482813083680453283X7241760793X4918738532534X89382376864491544936X21815080490X3978668705730392959187X5737557088087674X633472680X90767714X547529517265600104784507564X868557X9681329092503593175822562X4834020054346X7722435701X253871566X0810473047931875965240990827X486708X7451156381092716728810X791X86535909355861053X99519520211869444054182668X410242961X03824700369X266083780339705688282X26854613931569859183X9516319130620X63294830620X23179932X747079699954239X018411872762120837126747X931825055X767685226317618X775646075427096954549X87319946244700408X5227X769135224957831495X7613894534373074X268683560422231044958684X381547915810X9303554650265256X642X116043874267293760564X268844413X425064708590635X579903513957219649803523X14946095285756044X771413416X5266650481X3162653314286719337X991578838163316X814956734977324437137186X32647728236809X046580X382874737053X4205631732158526612640307979X2506X7380043311945774534834703X410165676831164004X804373712X60478063359X8024757342"
length = 16
cards = [long_card_list[i:i+length] for i in range(0, len(long_card_list), length)]

values = ""
for c in range(len(cards)):
  values = values + str(luhn(cards[c]))

print(values)

#Test
card1 = "12774212857X4109"
card2 = "586604X108627571"
card3 = "7473X86953606632"
card4 = "4026467X45830632"
card5 = "20X3092648604969"

print("CARD 1: ", luhn(card1))
print("CARD 2: ", luhn(card2))
print("CARD 3: ", luhn(card3))
print("CARD 4: ", luhn(card4))
print("CARD 5: ", luhn(card5))
#Test end